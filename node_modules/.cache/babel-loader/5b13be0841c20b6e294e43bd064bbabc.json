{"ast":null,"code":"import _regeneratorRuntime from\"/home/waleed/Desktop/MintWebsites/Twisted-Bears/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/waleed/Desktop/MintWebsites/Twisted-Bears/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/waleed/Desktop/MintWebsites/Twisted-Bears/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{connect}from\"../../redux/blockchain/blockchainActions\";import{connectWallet}from\"../../redux/blockchain/blockchainActions\";import{fetchData}from\"./../../redux/data/dataActions\";import{StyledRoundButton}from\"./../../components/styles/styledRoundButton.styled\";import*as s from\"./../../styles/globalStyles\";import Navbar from\"../../components/Navbar/Navbar\";import HeroSection from\"../../components/HeroSection/HeroSection\";import Social from\"../../components/SocialMedia/Social\";import Video from\"../../components/Video/Video\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){var cost=0;var dispatch=useDispatch();var blockchain=useSelector(function(state){return state.blockchain;});var data=useSelector(function(state){return state.data;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),claimingNft=_useState2[0],setClaimingNft=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),mintDone=_useState4[0],setMintDone=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),supply=_useState6[0],setTotalSupply=_useState6[1];var _useState7=useState(\"Minting is not Live Yet\"),_useState8=_slicedToArray(_useState7,2),feedback=_useState8[0],setFeedback=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),mintAmount=_useState10[0],setMintAmount=_useState10[1];var _useState11=useState(cost),_useState12=_slicedToArray(_useState11,2),displayCost=_useState12[0],setDisplayCost=_useState12[1];var _useState13=useState(-1),_useState14=_slicedToArray(_useState13,2),state=_useState14[0],setState=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),canMintWL=_useState16[0],setCanMintWL=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),disable=_useState18[0],setDisable=_useState18[1];var _useState19=useState({CONTRACT_ADDRESS:\"\",SCAN_LINK:\"\",NETWORK:{NAME:\"\",SYMBOL:\"\",ID:0},NFT_NAME:\"\",SYMBOL:\"\",MAX_SUPPLY:1,WEI_COST:0,DISPLAY_COST:0,GAS_LIMIT:0,MARKETPLACE:\"\",MARKETPLACE_LINK:\"\",SHOW_BACKGROUND:false}),_useState20=_slicedToArray(_useState19,2),CONFIG=_useState20[0],SET_CONFIG=_useState20[1];var claimNFTs=function claimNFTs(){var cost=0;if(state==1){cost=CONFIG.WEI_COST_WL;}else{cost=CONFIG.WEI_COST_PU;}var gasLimit=CONFIG.GAS_LIMIT;var totalCostWei=String(cost*mintAmount);var totalGasLimit=String(gasLimit*mintAmount);setFeedback(\"Minting your \".concat(CONFIG.NFT_NAME));setClaimingNft(true);setDisable(true);blockchain.smartContract.methods.mint(mintAmount).send({gasLimit:String(totalGasLimit),to:CONFIG.CONTRACT_ADDRESS,from:blockchain.account,value:totalCostWei}).once(\"error\",function(err){console.log(err);setFeedback(\"Sorry, something went wrong please try again later.\");setClaimingNft(false);}).then(function(receipt){setMintDone(true);setFeedback(\"Done, the \".concat(CONFIG.NFT_NAME,\" is yours!\"));setClaimingNft(false);blockchain.smartContract.methods.totalSupply().call().then(function(res){setTotalSupply(res);});dispatch(fetchData(blockchain.account));});};var decrementMintAmount=function decrementMintAmount(){var newMintAmount=mintAmount-1;if(newMintAmount<1){newMintAmount=1;}setMintAmount(newMintAmount);if(state==1){setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_OG*newMintAmount).toFixed(3));}else if(state==2){setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_WL*newMintAmount).toFixed(3));}else{setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_PU*newMintAmount).toFixed(3));}};var incrementMintAmount=function incrementMintAmount(){var newMintAmount=mintAmount+1;if(state==1){newMintAmount>2?newMintAmount=2:newMintAmount;setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_WL*newMintAmount).toFixed(3));}else{setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_PU*newMintAmount).toFixed(3));}setMintAmount(newMintAmount);};var maxNfts=function maxNfts(){if(state==1){setMintAmount(CONFIG.MAX_LIMIT);setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_WL*CONFIG.MAX_LIMIT).toFixed(3));}else{setMintAmount(CONFIG.MAX_LIMIT);setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_PU*CONFIG.MAX_LIMIT).toFixed(3));}};var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var totalSupply,currentState,mintWL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(blockchain.account!==\"\"&&blockchain.smartContract!==null)){_context.next=28;break;}dispatch(fetchData(blockchain.account));_context.next=4;return blockchain.smartContract.methods.totalSupply().call();case 4:totalSupply=_context.sent;setTotalSupply(totalSupply);_context.next=8;return blockchain.smartContract.methods.currentState().call();case 8:currentState=_context.sent;console.log({currentState:currentState});setState(currentState);if(!(currentState==0)){_context.next=17;break;}setDisplayCost(0.00);setFeedback(\"Minting is not Live yet\\\"\");setDisable(true);_context.next=28;break;case 17:if(!(currentState==2)){_context.next=27;break;}_context.next=20;return blockchain.smartContract.methods.isWhitelisted(blockchain.account).call();case 20:mintWL=_context.sent;setCanMintWL(mintWL);mintWL?\"\":setFeedback(\"You are not WhiteListed Member!!!\");mintWL?setDisable(false):setDisable(true);setDisplayCost(CONFIG.DISPLAY_COST_WL);_context.next=28;break;case 27:setDisplayCost(CONFIG.DISPLAY_COST_PU);case 28:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();var getConfig=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var configResponse,config;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/config/config.json\",{headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}});case 2:configResponse=_context2.sent;_context2.next=5;return configResponse.json();case 5:config=_context2.sent;SET_CONFIG(config);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function getConfig(){return _ref2.apply(this,arguments);};}();useEffect(function(){getConfig();},[]);useEffect(function(){getData();},[blockchain.account]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(s.Body,{children:[/*#__PURE__*/_jsx(Video,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(s.FlexContainer,{jc:\"space-evenly\",ai:\"center\",fd:\"row\",mt:\"20vh\",children:/*#__PURE__*/_jsxs(s.Mint,{children:[/*#__PURE__*/_jsx(s.TextTitle,{size:6.0,style:{letterSpacing:\"3px\"},children:\"MINT NOW\"}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsxs(s.TextSubTitle,{size:1.4,children:[5555-supply,\" of 5555 NFT's Available\"]}),/*#__PURE__*/_jsx(s.SpacerLarge,{}),/*#__PURE__*/_jsx(s.SpacerLarge,{}),/*#__PURE__*/_jsxs(s.FlexContainer,{fd:\"row\",ai:\"center\",jc:\"space-between\",children:[/*#__PURE__*/_jsx(s.TextTitle,{children:\"Amount\"}),/*#__PURE__*/_jsxs(s.AmountContainer,{ai:\"center\",jc:\"center\",fd:\"row\",children:[/*#__PURE__*/_jsx(StyledRoundButton,{style:{lineHeight:0.4},disabled:claimingNft?1:0,onClick:function onClick(e){e.preventDefault();decrementMintAmount();},children:\"-\"}),/*#__PURE__*/_jsx(s.SpacerMedium,{}),/*#__PURE__*/_jsx(s.TextDescription,{color:\"var(--primary)\",size:\"2.5rem\",children:mintAmount}),/*#__PURE__*/_jsx(s.SpacerMedium,{}),/*#__PURE__*/_jsx(StyledRoundButton,{disabled:claimingNft?1:0,onClick:function onClick(e){e.preventDefault();incrementMintAmount();},children:\"+\"})]}),/*#__PURE__*/_jsx(s.maxButton,{style:{cursor:\"pointer\"},onClick:function onClick(e){e.preventDefault();maxNfts();},children:\"Max\"})]}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(s.Line,{}),/*#__PURE__*/_jsx(s.SpacerLarge,{}),/*#__PURE__*/_jsxs(s.FlexContainer,{fd:\"row\",ai:\"center\",jc:\"space-between\",children:[/*#__PURE__*/_jsx(s.TextTitle,{children:\"Total\"}),/*#__PURE__*/_jsx(s.TextTitle,{color:\"var(--primary)\",children:displayCost})]}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(s.Line,{}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(s.SpacerLarge,{}),blockchain.account!==\"\"&&blockchain.smartContract!==null&&blockchain.errorMsg===\"\"?/*#__PURE__*/_jsxs(s.Container,{ai:\"center\",jc:\"center\",fd:\"row\",children:[/*#__PURE__*/_jsxs(s.connectButton,{disabled:disable,onClick:function onClick(e){e.preventDefault();claimNFTs();getData();},children:[\" \",claimingNft?\"Confirm Transaction in Wallet\":\"Mint\",\" \",mintDone?feedback:\"\",\" \"]}),\" \"]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(s.connectButton,{style:{textAlign:\"center\",color:\"#fff\",cursor:\"pointer\"},disabled:state==0?1:0,onClick:function onClick(e){e.preventDefault();dispatch(connectWallet());getData();},children:\"Connect to Wallet\"})}),/*#__PURE__*/_jsx(s.SpacerLarge,{}),blockchain.errorMsg!==\"\"?/*#__PURE__*/_jsx(s.connectButton,{style:{textAlign:\"center\",color:\"#fff\",cursor:\"pointer\"},children:blockchain.errorMsg}):\"\",state!==1&&state!==2?/*#__PURE__*/_jsx(s.connectButton,{style:{textAlign:\"center\",color:\"#fff\",cursor:\"pointer\"},children:feedback}):\"\",canMintWL!==true&&state==2?/*#__PURE__*/_jsx(s.connectButton,{style:{textAlign:\"center\",color:\"#fff\",cursor:\"pointer\"},children:feedback}):\"\",/*#__PURE__*/_jsx(Social,{})]})}),/*#__PURE__*/_jsx(s.SpacerLarge,{})]})});}export default Home;","map":{"version":3,"sources":["/home/waleed/Desktop/MintWebsites/Twisted-Bears/src/pages/HomePage/Home.js"],"names":["React","useEffect","useState","useRef","useDispatch","useSelector","connect","connectWallet","fetchData","StyledRoundButton","s","Navbar","HeroSection","Social","Video","Home","cost","dispatch","blockchain","state","data","claimingNft","setClaimingNft","mintDone","setMintDone","supply","setTotalSupply","feedback","setFeedback","mintAmount","setMintAmount","displayCost","setDisplayCost","setState","canMintWL","setCanMintWL","disable","setDisable","CONTRACT_ADDRESS","SCAN_LINK","NETWORK","NAME","SYMBOL","ID","NFT_NAME","MAX_SUPPLY","WEI_COST","DISPLAY_COST","GAS_LIMIT","MARKETPLACE","MARKETPLACE_LINK","SHOW_BACKGROUND","CONFIG","SET_CONFIG","claimNFTs","WEI_COST_WL","WEI_COST_PU","gasLimit","totalCostWei","String","totalGasLimit","smartContract","methods","mint","send","to","from","account","value","once","err","console","log","then","receipt","totalSupply","call","res","decrementMintAmount","newMintAmount","parseFloat","DISPLAY_COST_OG","toFixed","DISPLAY_COST_WL","DISPLAY_COST_PU","incrementMintAmount","maxNfts","MAX_LIMIT","getData","currentState","isWhitelisted","mintWL","getConfig","fetch","headers","Accept","configResponse","json","config","letterSpacing","lineHeight","e","preventDefault","cursor","errorMsg","textAlign","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { connect } from \"../../redux/blockchain/blockchainActions\";\nimport { connectWallet } from \"../../redux/blockchain/blockchainActions\";\nimport { fetchData } from \"./../../redux/data/dataActions\";\nimport { StyledRoundButton } from \"./../../components/styles/styledRoundButton.styled\";\nimport * as s from \"./../../styles/globalStyles\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport HeroSection from \"../../components/HeroSection/HeroSection\";\nimport Social from \"../../components/SocialMedia/Social\";\nimport Video from \"../../components/Video/Video\";\n\nfunction Home() {\n  let cost = 0;\n  const dispatch = useDispatch();\n  const blockchain = useSelector((state) => state.blockchain);\n  const data = useSelector((state) => state.data);\n  const [claimingNft, setClaimingNft] = useState(false);\n  const [mintDone, setMintDone] = useState(false);\n  const [supply, setTotalSupply] = useState(0);\n  const [feedback, setFeedback] = useState(\"Minting is not Live Yet\");\n  const [mintAmount, setMintAmount] = useState(1);\n  const [displayCost, setDisplayCost] = useState(cost);\n  const [state, setState] = useState(-1);\n  const [canMintWL, setCanMintWL] = useState(false);\n  const [disable, setDisable] = useState(false);\n  const [CONFIG, SET_CONFIG] = useState({\n    CONTRACT_ADDRESS: \"\",\n    SCAN_LINK: \"\",\n    NETWORK: {\n      NAME: \"\",\n      SYMBOL: \"\",\n      ID: 0,\n    },\n    NFT_NAME: \"\",\n    SYMBOL: \"\",\n    MAX_SUPPLY: 1,\n    WEI_COST: 0,\n    DISPLAY_COST: 0,\n    GAS_LIMIT: 0,\n    MARKETPLACE: \"\",\n    MARKETPLACE_LINK: \"\",\n    SHOW_BACKGROUND: false,\n  });\n\n  const claimNFTs = () => {\n    let cost = 0;\n    if (state == 1) {\n      cost = CONFIG.WEI_COST_WL;\n    } else {\n      cost = CONFIG.WEI_COST_PU;\n    }\n\n    let gasLimit = CONFIG.GAS_LIMIT;\n    let totalCostWei = String(cost * mintAmount);\n    let totalGasLimit = String(gasLimit * mintAmount);\n    setFeedback(`Minting your ${CONFIG.NFT_NAME}`);\n    setClaimingNft(true);\n    setDisable(true);\n    blockchain.smartContract.methods\n      .mint(mintAmount)\n      .send({\n        gasLimit: String(totalGasLimit),\n        to: CONFIG.CONTRACT_ADDRESS,\n        from: blockchain.account,\n        value: totalCostWei,\n      })\n      .once(\"error\", (err) => {\n        console.log(err);\n        setFeedback(\"Sorry, something went wrong please try again later.\");\n        setClaimingNft(false);\n      })\n      .then((receipt) => {\n        setMintDone(true);\n        setFeedback(`Done, the ${CONFIG.NFT_NAME} is yours!`);\n        setClaimingNft(false);\n        blockchain.smartContract.methods\n          .totalSupply()\n          .call()\n          .then((res) => {\n            setTotalSupply(res);\n          });\n\n        dispatch(fetchData(blockchain.account));\n      });\n  };\n\n  const decrementMintAmount = () => {\n    let newMintAmount = mintAmount - 1;\n    if (newMintAmount < 1) {\n      newMintAmount = 1;\n    }\n\n    setMintAmount(newMintAmount);\n    if (state == 1) {\n      setDisplayCost(\n        parseFloat(CONFIG.DISPLAY_COST_OG * newMintAmount).toFixed(3)\n      );\n    } else if (state == 2) {\n      setDisplayCost(\n        parseFloat(CONFIG.DISPLAY_COST_WL * newMintAmount).toFixed(3)\n      );\n    } else {\n      setDisplayCost(\n        parseFloat(CONFIG.DISPLAY_COST_PU * newMintAmount).toFixed(3)\n      );\n    }\n  };\n\n  const incrementMintAmount = () => {\n    let newMintAmount = mintAmount + 1;\n\n    if (state == 1) {\n      newMintAmount > 2\n        ? (newMintAmount = 2)\n        : newMintAmount;\n      setDisplayCost(\n        parseFloat(CONFIG.DISPLAY_COST_WL * newMintAmount).toFixed(3)\n      );\n    } else {\n      setDisplayCost(\n        parseFloat(CONFIG.DISPLAY_COST_PU * newMintAmount).toFixed(3)\n      );\n    }\n    setMintAmount(newMintAmount);\n  };\n\n  const maxNfts = () => {\n    if (state == 1) {\n      setMintAmount(CONFIG.MAX_LIMIT);\n      setDisplayCost(\n        parseFloat(CONFIG.DISPLAY_COST_WL * CONFIG.MAX_LIMIT).toFixed(3)\n      );\n    } else {\n      setMintAmount(CONFIG.MAX_LIMIT);\n      setDisplayCost(parseFloat(CONFIG.DISPLAY_COST_PU * CONFIG.MAX_LIMIT).toFixed(3));\n    }\n  };\n\n  const getData = async () => {\n    if (blockchain.account !== \"\" && blockchain.smartContract !== null) {\n      dispatch(fetchData(blockchain.account));\n      const totalSupply = await blockchain.smartContract.methods\n        .totalSupply()\n        .call();\n      setTotalSupply(totalSupply);\n      let currentState = await blockchain.smartContract.methods\n        .currentState()\n        .call();\n      console.log({ currentState });\n      setState(currentState);\n\n      if (currentState == 0) {\n        setDisplayCost(0.00);\n        setFeedback(`Minting is not Live yet\"`);\n        setDisable(true);\n      } else if (currentState == 2) {\n        let mintWL = await blockchain.smartContract.methods\n          .isWhitelisted(blockchain.account)\n          .call();\n        setCanMintWL(mintWL);\n        (mintWL) ? \"\" : setFeedback(`You are not WhiteListed Member!!!`);\n        (mintWL) ? setDisable(false) : setDisable(true);\n\n        setDisplayCost(CONFIG.DISPLAY_COST_WL);\n      } else {\n        setDisplayCost(CONFIG.DISPLAY_COST_PU);\n      }\n    }\n  };\n\n  const getConfig = async () => {\n    const configResponse = await fetch(\"/config/config.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    });\n    const config = await configResponse.json();\n    SET_CONFIG(config);\n  };\n\n  useEffect(() => {\n    getConfig();\n  }, []);\n\n  useEffect(() => {\n    getData();\n  }, [blockchain.account]);\n\n  return (\n    <>\n\n      <s.Body>\n        <Video />\n        <Navbar />\n        <s.FlexContainer\n          jc={\"space-evenly\"}\n          ai={\"center\"}\n          fd={\"row\"}\n          mt={\"20vh\"}\n        >\n          <s.Mint>\n            <s.TextTitle size={6.0} style={{ letterSpacing: \"3px\" }}>\n              MINT NOW\n            </s.TextTitle>\n            <s.SpacerSmall />\n            <s.TextSubTitle size={1.4}>\n              {5555 - supply} of 5555 NFT's Available\n            </s.TextSubTitle>\n            <s.SpacerLarge />\n            <s.SpacerLarge />\n\n            <s.FlexContainer fd={\"row\"} ai={\"center\"} jc={\"space-between\"}>\n              <s.TextTitle>Amount</s.TextTitle>\n\n              <s.AmountContainer ai={\"center\"} jc={\"center\"} fd={\"row\"}>\n                <StyledRoundButton\n                  style={{ lineHeight: 0.4 }}\n                  disabled={claimingNft ? 1 : 0}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    decrementMintAmount();\n                  }}\n                >\n                  -\n                </StyledRoundButton>\n                <s.SpacerMedium />\n                <s.TextDescription color={\"var(--primary)\"} size={\"2.5rem\"}>\n                  {mintAmount}\n                </s.TextDescription>\n                <s.SpacerMedium />\n                <StyledRoundButton\n                  disabled={claimingNft ? 1 : 0}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    incrementMintAmount();\n                  }}\n                >\n                  +\n                </StyledRoundButton>\n              </s.AmountContainer>\n\n              <s.maxButton\n                style={{ cursor: \"pointer\" }}\n                onClick={(e) => {\n                  e.preventDefault();\n                  maxNfts();\n                }}\n              >\n                Max\n              </s.maxButton>\n            </s.FlexContainer>\n\n            <s.SpacerSmall />\n            <s.Line />\n            <s.SpacerLarge />\n            <s.FlexContainer fd={\"row\"} ai={\"center\"} jc={\"space-between\"}>\n              <s.TextTitle>Total</s.TextTitle>\n              <s.TextTitle color={\"var(--primary)\"}>{displayCost}</s.TextTitle>\n            </s.FlexContainer>\n            <s.SpacerSmall />\n            <s.Line />\n            <s.SpacerSmall />\n            <s.SpacerLarge />\n            {blockchain.account !== \"\" && blockchain.smartContract !== null && blockchain.errorMsg === \"\" ? (\n              <s.Container ai={\"center\"} jc={\"center\"} fd={\"row\"}>\n                <s.connectButton\n                  disabled={disable}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    claimNFTs();\n                    getData();\n                  }}\n                >\n                  {\" \"}\n                  {claimingNft ? \"Confirm Transaction in Wallet\" : \"Mint\"}{\" \"}\n                  {mintDone ? feedback : \"\"}{\" \"}\n                </s.connectButton>{\" \"}\n              </s.Container>\n            ) : (\n              <>\n                {/* {blockchain.errorMsg === \"\" ? ( */}\n                <s.connectButton\n                  style={{\n                    textAlign: \"center\",\n                    color: \"#fff\",\n                    cursor: \"pointer\",\n                  }}\n                  disabled={state == 0 ? 1 : 0}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    dispatch(connectWallet());\n                    getData();\n                  }}\n                >\n                  Connect to Wallet\n                </s.connectButton>\n                {/* ) : (\"\")} */}\n              </>\n\n            )}\n            <s.SpacerLarge />\n            {blockchain.errorMsg !== \"\" ? (\n              <s.connectButton\n                style={{\n                  textAlign: \"center\",\n                  color: \"#fff\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {blockchain.errorMsg}\n              </s.connectButton>\n            ) : (\n              \"\"\n\n            )}\n\n            {(state !== 1) && (state !== 2) ? (\n              <s.connectButton\n                style={{\n                  textAlign: \"center\",\n                  color: \"#fff\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {feedback}\n              </s.connectButton>\n            ) : (\n              \"\"\n\n            )}\n\n            {(canMintWL !== true) && (state == 2) ? (\n              <s.connectButton\n                style={{\n                  textAlign: \"center\",\n                  color: \"#fff\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {feedback}\n              </s.connectButton>\n            ) : (\n              \"\"\n\n            )}\n            <Social />\n          </s.Mint>\n        </s.FlexContainer>\n        <s.SpacerLarge />\n      </s.Body>\n\n    </>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}